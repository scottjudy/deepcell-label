<!DOCTYPE html>
<html>
  <head>
    <title>Caliban</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/main_track.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/navigation.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/normalize.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/infopane.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/footer.css') }}">
  </head>

  <body>
    {% include "navigation.html" %}
    {% include "infopane.html" %}
    <canvas width=600 height=400 id="hidden_canvas"></canvas>
    <div id="container">
        <div id="logcol">
            <h1>Tracking Tool</h1>
            </p>Filename will be given after submit button is pressed.</p>


            <p1 id="submit" onclick="upload() "><strong>CLICK HERE TO SUBMIT</strong></p1>
  
            <p> 


            </p>
            <p3 id="give_filename" >

            <div class="frame-info">
                <label class='frame_status'>frame:
                    <span id="frame"></span> 
                </label>
                <label class='view_mode'>highlight mode:
                    <span id="highlight"></span>
                </label>
                <label class='view_mode'>edit mode:
                    <span id="edit_mode"></span> 
                </label>
            </div>

            <div class='view_mode' style="list-style-type:none">
                <span id="edit_brush"></span>
                <span id="edit_label"></span>
                <span id="edit_erase"></span>
            </div>

            <div class="cell-info-block">
                <label class='cell_info'>label:
                    <span id="label"></span> 
                </label>
                <label class='cell_info'>parent cells:
                    <span id="parent"></span>
                </label>
                <label class='cell_info'>daughters cells:
                    <span id="daughters"></span> 
                </label>
                <label class='cell_info'>divisions in frame:
                    <span id="frame_div"></span>
                </label>
                <label class='cell_info'>capped:
                    <span id="capped"></span>
                </label>
                <label class='cell_info'>frames:
                    <span id="frames"></span>
                </label>
            </div>

            <div class="image-state">
                <label class="selected_status"> state:
                    <span id="mode"></span>
                </label>
            </div>
        </div>
        <div id="canvascol">
            <canvas width=600 height=400 id="canvas"></canvas>
        </div>
    </div>
  <!-- START CALIBAN FUNCTION CALL -->
  <script>
    var file = "{{filename}}";


    function upload() {
        document.getElementById("submit").innerHTML = "";
        document.getElementById("give_filename").innerHTML = "Loading file to our database... (wait 10-15 seconds)";
        upload_file();
        document.getElementById("submit").innerHTML = "Filename to COPY/PASTE: " + file;
        document.getElementById("give_filename").innerHTML = "";
    }


    start_caliban(file);
  </script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/infopane.js') }}"></script>
<!-- END CALIBAN FUNCTION CALL -->
    {% include "footer.html" %}
  </body>
</html>